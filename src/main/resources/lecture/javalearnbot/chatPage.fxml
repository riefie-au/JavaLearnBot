<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox prefHeight="800.0" prefWidth="800.0" spacing="10.0" style="-fx-background-color: #1b1b1d;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="lecture.javalearnbot.ChatController">
    <children>

        <VBox alignment="CENTER" prefHeight="107.0" prefWidth="800.0" spacing="10.0" style="-fx-background-color: #161616;">
            <padding>
                <Insets left="20.0" right="20.0" top="15.0" />
            </padding>
            <children>
                <Label text="What is your Java question?" textFill="WHITE">
                    <font>
                        <Font size="20.0" />
                    </font>
                </Label>

                <HBox alignment="CENTER" spacing="10.0" style="-fx-background-color: #161616;">
                    <children>
                        <Button minWidth="60.0" mnemonicParsing="false" onAction="#onClearClick" styleClass="btn" text="Clear" />

                        <TextField fx:id="queryField" promptText="Type your query here..." styleClass="search-field" HBox.hgrow="ALWAYS" />

                        <Button minWidth="70.0" mnemonicParsing="false" onAction="#onSearchCLick" styleClass="btn" text="Search" />
                    </children>
                </HBox>
            </children>
        </VBox>

        <Separator prefHeight="0.0" prefWidth="711.0" style="-fx-background-color: #202022; -fx-border-color: NULL;" />

        <ScrollPane fitToWidth="true" prefHeight="346.0" prefWidth="800.0" style="-fx-background-color: transparent;" VBox.vgrow="ALWAYS">
            <content>
                <VBox prefHeight="943.0" prefWidth="785.0" spacing="15.0" style="-fx-background-color: #1b1b1d;">
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="10.0" />
                    </padding>
                    <children>

                        <VBox prefHeight="236.0" prefWidth="745.0" spacing="5.0">
                            <Label text="Result" textFill="WHITE">
                                <font> <Font size="16.0" /> </font>
                            </Label>
                            <TextArea fx:id="resultArea" prefHeight="220" prefWidth="745.0" promptText="AI Response will appear here..." style="-fx-background-radius: 100px; -fx-border-radius: 100px; -fx-background-color: #202022;" wrapText="true" />
                        </VBox>
                  <HBox prefHeight="30.0" prefWidth="745.0">
                     <children>
                        <Label />
                        <Button mnemonicParsing="false" onAction="#onExportButtonClick" text="Export answer and question">
                           <HBox.margin>
                              <Insets right="20.0" />
                           </HBox.margin>
                        </Button>
                        <ComboBox fx:id="scoreBox" prefWidth="150.0">
                           <opaqueInsets>
                              <Insets />
                           </opaqueInsets>
                           <HBox.margin>
                              <Insets right="20.0" />
                           </HBox.margin>
                        </ComboBox>
                        <ComboBox fx:id="labelBox" prefWidth="150.0">
                           <HBox.margin>
                              <Insets right="20.0" />
                           </HBox.margin>
                        </ComboBox>
                     </children>
                  </HBox>

                        <VBox prefHeight="236.0" prefWidth="745.0" spacing="5.0">
                            <Label text="Rewrites" textFill="WHITE">
                                <font> <Font size="16.0" /> </font>
                            </Label>
                            <TextArea fx:id="rewriteArea" prefHeight="220" prefWidth="745.0" promptText="Query rewrites..." wrapText="true" />
                        </VBox>

                        <VBox prefHeight="236.0" prefWidth="745.0" spacing="5.0">
                            <Label text="Retrieved Docs and Relevance Rank" textFill="WHITE">
                                <font> <Font size="16.0" /> </font>
                            </Label>
                            <TextArea fx:id="retrievedDocs" prefHeight="220" prefWidth="745.0" />
                        </VBox>


                    </children>
                </VBox>
            </content>
        </ScrollPane>

        <VBox prefHeight="214.0" prefWidth="800.0" spacing="5.0" VBox.vgrow="ALWAYS">
            <padding>
                <Insets bottom="15.0" left="20.0" right="20.0" top="5.0" />
            </padding>
            <children>
                <Separator prefHeight="0.0" prefWidth="810.0" />
                <Label text="Logging History" textFill="WHITE">
                    <font> <Font size="16.0" /> </font>
                </Label>

                    <TableView fx:id="logTable" minHeight="175.0" prefHeight="175.0" prefWidth="760.0" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="timestampCol" prefWidth="200.0" text="Timestamp" />
                            <TableColumn fx:id="questionCol" prefWidth="200.0" text="Question" />
                            <TableColumn fx:id="answerCol" prefWidth="200.79998168945315" text="Answer" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
            </children>
        </VBox>

    </children>
</VBox>
